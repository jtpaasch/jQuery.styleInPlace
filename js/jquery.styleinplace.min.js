(function(a){a.fn.styleInPlace=function(p){var q={styles:"default",save:function(){return null}},p=a.extend(q,p),c,e,r=!1,n={},w=function(){r=!0;l();e.fadeIn(150,function(){l()})},s=function(){e.fadeOut(150,function(){r=!1;a(this).remove()})},l=function(){if(!r)return!1;var h=e.find(".style-in-place-lightbox-top-row"),b=e.find(".style-in-place-lightbox-middle-row"),d=e.find(".style-in-place-lightbox-bottom-row"),f=e.find(".style-in-place-lightbox-middle-row-left-column"),x=e.find(".style-in-place-lightbox-middle-row-center-column"),
g=e.find(".style-in-place-lightbox-middle-row-right-column"),m=c.position(),i=m.left,k=m.top,m=c.outerWidth(!0),l=c.outerHeight(!0);h.css("height",k);b.css("height",l);var j=i+m,k=h.width();j>k&&(k=j);j=a(window).width();j>k&&(k=j);h.css("width",k);b.css("width",k);d.css("width",k);f.css({width:i,height:l});x.css({width:m});g.css("width",k-(i+m));h=e.find(".style-in-place-lightbox-editor-pane").outerHeight();b=d.outerHeight();h>b&&d.css("height",h)},g=function(h,b){c.css(b,a.trim(h));n[b]=h;l();o()},
t=function(h,b){"inline"===c.css("display")&&c.css("display","inline-block");c.css(b,a.trim(h));n[b]=h;l();o()},u=function(h,b){var d=h.split(" ");if(1===d.length){var f=a.trim(d[0]);c.css(b+"-top",f);c.css(b+"-right",f);c.css(b+"-bottom",f);c.css(b+"-left",f)}else 2===d.length?(f=a.trim(d[0]),d=a.trim(d[1]),c.css(b+"-top",f),c.css(b+"-right",d),c.css(b+"-bottom",f),c.css(b+"-left",d)):4===d.length&&(c.css(b+"-top",a.trim(d[0])),c.css(b+"-right",a.trim(d[1])),c.css(b+"-bottom",a.trim(d[2])),c.css(b+
"-left",a.trim(d[3])));n[b]=h;l();o()},v=function(a){var b;b=""+(parseInt(c.css(a+"-top"))+"px ");b+=parseInt(c.css(a+"-right"))+"px ";b+=parseInt(c.css(a+"-bottom"))+"px ";return b+=parseInt(c.css(a+"-left"))+"px"},o=function(){a("#style-in-place-editor-pane-font-family").html(c.css("font-family"));a("#style-in-place-editor-pane-font-size").html(c.css("font-size"));a("#style-in-place-editor-pane-line-height").html(c.css("line-height"));a("#style-in-place-editor-pane-font-weight").html(c.css("font-weight"));
a("#style-in-place-editor-pane-font-style").html(c.css("font-style"));a("#style-in-place-editor-pane-text-decoration").html(c.css("text-decoration"));a("#style-in-place-editor-pane-text-transform").html(c.css("text-transform"));a("#style-in-place-editor-pane-color").html(c.css("color"));a("#style-in-place-editor-pane-text-align").html(c.css("text-align"));a("#style-in-place-editor-pane-width").html(c.css("width"));a("#style-in-place-editor-pane-height").html(c.css("height"));a("#style-in-place-editor-pane-margin").html(v("margin"));
a("#style-in-place-editor-pane-padding").html(v("padding"))},y=function(){a("#style-in-place-editor-pane-font-family").on("click",function(){j(a(this),{arial:"Arial, sans-serif",verdana:"Verdana, sans-serif",georgia:"Georgia, serif",times:"Times, serif"},{callback:g,parameters:"font-family"})});a("#style-in-place-editor-pane-font-size").on("click",function(){i(a(this),{callback:g,parameters:"font-size"})});a("#style-in-place-editor-pane-line-height").on("click",function(){i(a(this),{callback:g,parameters:"line-height"})});
a("#style-in-place-editor-pane-font-weight").on("click",function(){j(a(this),{normal:"normal",bold:"bold"},{callback:g,parameters:"font-weight"})});a("#style-in-place-editor-pane-font-style").on("click",function(){j(a(this),{normal:"normal",italic:"italic"},{callback:g,parameters:"font-style"})});a("#style-in-place-editor-pane-text-decoration").on("click",function(){j(a(this),{none:"none",underline:"underline"},{callback:g,parameters:"text-decoration"})});a("#style-in-place-editor-pane-text-transform").on("click",
function(){j(a(this),{none:"none",uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize"},{callback:g,parameters:"text-transform"})});a("#style-in-place-editor-pane-color").on("click",function(){i(a(this),{callback:g,parameters:"color"})});a("#style-in-place-editor-pane-text-align").on("click",function(){j(a(this),{left:"left",center:"center",right:"right"},{callback:g,parameters:"text-align"})});a("#style-in-place-editor-pane-width").on("click",function(){i(a(this),{callback:t,parameters:"width"})});
a("#style-in-place-editor-pane-height").on("click",function(){i(a(this),{callback:t,parameters:"height"})});a("#style-in-place-editor-pane-margin").on("click",function(){i(a(this),{callback:u,parameters:"margin"})});a("#style-in-place-editor-pane-padding").on("click",function(){i(a(this),{callback:u,parameters:"padding"})})},i=function(c,b){var d=a('<textarea class="style-in-place-lightbox-textarea-pane"></textarea>');d.attr("width",c.innerWidth());d.attr("height",c.innerHeight());d.val(a.trim(c.html()));
d.on("click",!1);c.html(d);var f=d.offset();d.css("position","absolute");d.offset(f);d.focus();d.on("blur",function(){var d=a(this).val();c.html(d);void 0!==b.callback&&b.callback(d,void 0===b.parameters?null:b.parameters)})},j=function(c,b,d){var f=a('<select class="style-in-place-lightbox-select-pane"></select>'),e="",j=c.html(),g,i=0;for(g in b)b.hasOwnProperty(g)&&(i+=1,e+=j===b[g]?"<option selected>":"<option>",e+=b[g]+"</option>\n");f.html(e);f.on("click",!1);f.attr("size",i);c.html(f);b=f.offset();
f.css("position","absolute");f.offset(b);f.on("click",function(){var b=a(this).val();c.html(b);void 0!==d.callback&&d.callback(b,void 0===d.parameters?null:d.parameters)})};return this.each(function(){c=a(this);1>a("#style-in-place-lightbox").length?(e=a('<div id="style-in-place-lightbox" style="display: none;">\t<div class="style-in-place-lightbox-top-row"></div>\t<div class="style-in-place-lightbox-middle-row">\t\t<div class="style-in-place-lightbox-middle-row-left-column"></div>\t\t<div class="style-in-place-lightbox-middle-row-center-column"></div>\t\t<div class="style-in-place-lightbox-middle-row-right-column"></div>\t</div>\t<div class="style-in-place-lightbox-bottom-row">\t\t<div class="style-in-place-lightbox-editor-pane">\t\t\t<div class="style-in-place-lightbox-editor-pane-top-row">\t\t\t\t<div class="style-in-place-lightbox-editor-pane-top-row-left-column">\t\t\t\t\t<div>\t\t\t\t\t\t<h3>Font</h3>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tFont family\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-font-family">\t\t\t\t\t\t\t\t\tFont family\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tFont size\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-font-size">\t\t\t\t\t\t\t\t\tFont size\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tLine height\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-line-height">\t\t\t\t\t\t\t\t\tLine height\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tWeight\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-font-weight">\t\t\t\t\t\t\t\t\tWeight\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tSlant\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-font-style">\t\t\t\t\t\t\t\t\tNone\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tUnderline\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-text-decoration">\t\t\t\t\t\t\t\t\tNone\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tCase\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-text-transform">\t\t\t\t\t\t\t\t\tNone\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tColor\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-color">\t\t\t\t\t\t\t\t\tDefault\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tAlignment\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-text-align">\t\t\t\t\t\t\t\t\tLeft\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="style-in-place-lightbox-editor-pane-top-row-right-column">\t\t\t\t\t<div>\t\t\t\t\t\t<h3>Dimensions</h3>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tWidth\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-width">\t\t\t\t\t\t\t\t\tDefault\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tHeight\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-height">\t\t\t\t\t\t\t\t\tDefault\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<h3>Margins and padding</h3>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tMargin\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-margin">\t\t\t\t\t\t\t\t\tDefault\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t\t<li>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-label">\t\t\t\t\t\t\t\t\tPadding\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t<span class="style-in-place-editor-pane-value" \t\t\t\t\t\t\t\t\t  id="style-in-place-editor-pane-padding">\t\t\t\t\t\t\t\t\tDefault\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="style-in-place-lightbox-editor-pane-bottom-row">\t\t\t\t<button class="style-in-place-lightbox-editor-pane-done-button">\t\t\t\t\tDone\t\t\t\t</button>\t\t\t</div>\t\t</div>\t</div></div>'),
a("body").append(e),"default"===p.styles&&(a("#style-in-place-lightbox").css({position:"absolute",width:"100%",height:"100%",top:0,left:0,color:"#cdcdcd","font-family":"Arial, sans-serif","font-size":"13px"}),a(".style-in-place-lightbox-top-row").css({background:"black",opacity:"0.7",width:"100%"}),a(".style-in-place-lightbox-middle-row").css({width:"100%"}),a(".style-in-place-lightbox-middle-row-left-column").css({background:"black",opacity:"0.7",position:"relative",display:"inline-block",height:"100%",
"float":"left"}),a(".style-in-place-lightbox-middle-row-center-column").css({position:"relative",display:"inline-block",height:"100%","float":"left"}),a(".style-in-place-lightbox-middle-row-right-column").css({background:"black",opacity:"0.7",position:"relative",display:"inline-block",height:"100%","float":"left"}),a(".style-in-place-lightbox-bottom-row").css({background:"black",opacity:"0.7",height:"100%"}),a(".style-in-place-lightbox-editor-pane").css({padding:"50px"}),a(".style-in-place-lightbox-editor-pane-top-row-left-column").css({position:"relative",
display:"inline-block","vertical-align":"top",width:"300px","margin-right":"50px"}),a(".style-in-place-lightbox-editor-pane-top-row-right-column").css({position:"relative",display:"inline-block","vertical-align":"top",width:"300px"}),a(".style-in-place-lightbox-editor-pane-top-row h3").css({"text-transform":"uppercase",background:"#cdcdcd",color:"black","border-radius":"3px","-moz-border-radius":"3px",padding:"5px 10px 4px 10px","margin-bottom":"10px"}),a(".style-in-place-lightbox-editor-pane-top-row ul").css({padding:"0",
margin:"20px 0 30px 0"}),a(".style-in-place-lightbox-editor-pane-top-row ul li").css({padding:"0",margin:"5px 3px 15px 3px","list-style-type":"none","border-bottom":"1px dotted #cdcdcd"}),a(".style-in-place-editor-pane-label").css({display:"inline-block","text-transform":"uppercase","font-size":"11px"}),a(".style-in-place-editor-pane-value").css({display:"inline-block","font-weight":"bold","font-size":"14px","float":"right"}),a(".style-in-place-lightbox-editor-pane-bottom-row").css({margin:"20px 0"}),
a(".style-in-place-lightbox-editor-pane-done-button").css({"font-family":"Arial, sans-serif","font-size":"13px",border:"0","border-radius":"3px","-moz-border-radius":"3px",background:"#cdcdcd","text-transform":"uppercase","font-weight":"bold",padding:"5px 10px 4px 10px"}))):e=a("#style-in-place-lightbox");a(window).resize(function(){l()});e.find(".style-in-place-lightbox-top-row, .style-in-place-lightbox-middle-row, .style-in-place-lightbox-editor-pane-bottom-row").on("click",function(){s()});e.find(".style-in-place-lightbox-editor-pane-done-button").on("click",
function(){s();q.save!==void 0&&q.save(n)});o(c);y();w()})}})(jQuery);